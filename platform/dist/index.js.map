{"version":3,"sources":["models.mjs","Vector.mjs","actors/Player.mjs","State.mjs","actors/Coin.mjs","actors/Lava.mjs","Level.mjs","DOMDisplay.mjs","index.mjs","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["ACTORS","PLAYER","LAVA","COIN","CHARS","LAVA_HORIZONTAL","LAVA_VERTICAL","LAVA_DRIPPING","LAVA_STATIC","EMPTY","WALL","Vector","constructor","x","y","plus","other","times","factor","playerXSpeed","gravity","jumpSpeed","Player","pos","speed","type","create","prototype","size","update","time","state","keys","xSpeed","ArrowLeft","ArrowRight","movedX","level","touches","ySpeed","movedY","ArrowUp","State","actors","status","start","startActors","player","find","actor","overlap","actor1","actor2","map","newState","collide","wobbleSpeed","wobbleDist","Coin","basePos","wobble","Math","random","PI","filtered","filter","a","some","wobblePos","sin","Lava","reset","char","newPos","LEVEL_CHARS","createRows","tempRows","getType","isActor","row","yPosition","xPosition","push","getTempRows","plan","trim","split","l","Level","height","length","width","rows","xStart","floor","xEnd","ceil","yStart","yEnd","isOutside","here","scale","drawGrid","element","class","style","name","attributes","children","newElement","document","createElement","Object","forEach","attribute","setAttribute","child","appendChild","drawActors","rect","left","top","DOMDisplay","parent","dom","actorLayer","clear","remove","syncState","className","scrollPlayerIntoView","clientWidth","clientHeight","margin","scrollLeft","right","scrollTop","bottom","center","GAME_LEVELS","concat","trackKeys","down","track","event","includes","key","preventDefault","window","addEventListener","arrowKeys","runAnimation","frameFunc","lastTime","frame","timeStep","min","requestAnimationFrame","runLevel","Display","display","body","ending","Promise","resolve","runGame","plans","console","log","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","Function","deps","cached","cache","cb"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["export const ACTORS = {\n  PLAYER: \"player\",\n  LAVA: \"lava\",\n  COIN: \"coin\"\n};\n\nexport const CHARS = {\n  LAVA_HORIZONTAL: \"=\",\n  LAVA_VERTICAL: \"|\",\n  LAVA_DRIPPING: \"v\",\n  LAVA_STATIC: \"+\",\n  EMPTY: \".\",\n  WALL: \"#\",\n  PLAYER: \"@\",\n  COIN: \"o\"\n};\n","export class Vector {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  plus(other) {\n    return new Vector(this.x + other.x, this.y + other.y);\n  }\n\n  times(factor) {\n    return new Vector(this.x * factor, this.y * factor);\n  }\n}\n","import { ACTORS } from \"../models.mjs\";\nimport { Vector } from \"../Vector.mjs\";\n\nconst playerXSpeed = 7;\nconst gravity = 30;\nconst jumpSpeed = 17;\n\nexport class Player {\n  constructor(pos, speed) {\n    this.pos = pos;\n    this.speed = speed;\n  }\n\n  get type() {\n    return ACTORS.PLAYER;\n  }\n\n  static create(pos) {\n    return new Player(pos.plus(new Vector(0, -0.5)), new Vector(0, 0));\n  }\n}\n\nPlayer.prototype.size = new Vector(0.8, 1.5);\n\nPlayer.prototype.update = function(time, state, keys) {\n  let xSpeed = 0;\n  if (keys.ArrowLeft) xSpeed -= playerXSpeed;\n  if (keys.ArrowRight) xSpeed += playerXSpeed;\n  let pos = this.pos;\n  let movedX = pos.plus(new Vector(xSpeed * time, 0));\n  if (!state.level.touches(movedX, this.size, \"wall\")) {\n    pos = movedX;\n  }\n  let ySpeed = this.speed.y + time * gravity;\n  let movedY = pos.plus(new Vector(0, ySpeed * time));\n  if (!state.level.touches(movedY, this.size, \"wall\")) {\n    pos = movedY;\n  } else if (keys.ArrowUp && ySpeed > 0) {\n    ySpeed = -jumpSpeed;\n  } else {\n    ySpeed = 0;\n  }\n  return new Player(pos, new Vector(xSpeed, ySpeed));\n};\n","export class State {\n  constructor(level, actors, status) {\n    this.level = level;\n    this.actors = actors;\n    this.status = status;\n  }\n\n  static start(level) {\n    return new State(level, level.startActors, \"playing\");\n  }\n\n  get player() {\n    return this.actors.find(actor => actor.type == \"player\");\n  }\n}\n\nfunction overlap(actor1, actor2) {\n  return (\n    actor1.pos.x + actor1.size.x > actor2.pos.x &&\n    actor1.pos.x < actor2.pos.x + actor2.size.x &&\n    actor1.pos.y + actor1.size.y > actor2.pos.y &&\n    actor1.pos.y < actor2.pos.y + actor2.size.y\n  );\n}\n\nState.prototype.update = function(time, keys) {\n  let actors = this.actors.map(actor => actor.update(time, this, keys));\n  let newState = new State(this.level, actors, this.status);\n  if (newState.status != \"playing\") return newState;\n  let player = newState.player;\n  if (this.level.touches(player.pos, player.size, \"lava\")) {\n    return new State(this.level, actors, \"lost\");\n  }\n  for (let actor of actors) {\n    if (actor != player && overlap(actor, player)) {\n      newState = actor.collide(newState);\n    }\n  }\n  return newState;\n};\n","import { ACTORS } from \"../models.mjs\";\nimport { Vector } from \"../Vector.mjs\";\nimport { State } from \"../State.mjs\";\n\nconst wobbleSpeed = 8,\n  wobbleDist = 0.07;\n\nexport class Coin {\n  constructor(pos, basePos, wobble) {\n    this.pos = pos;\n    this.basePos = basePos;\n    this.wobble = wobble;\n  }\n\n  get type() {\n    return ACTORS.COIN;\n  }\n\n  static create(pos) {\n    let basePos = pos.plus(new Vector(0.2, 0.1));\n    return new Coin(basePos, basePos, Math.random() * Math.PI * 2);\n  }\n}\n\nCoin.prototype.size = new Vector(0.6, 0.6);\n\nCoin.prototype.collide = function(state) {\n  let filtered = state.actors.filter(a => a != this);\n  let status = state.status;\n  if (!filtered.some(a => a.type == \"coin\")) status = \"won\";\n  return new State(state.level, filtered, status);\n};\n\nCoin.prototype.update = function(time) {\n  let wobble = this.wobble + time * wobbleSpeed;\n  let wobblePos = Math.sin(wobble) * wobbleDist;\n  return new Coin(\n    this.basePos.plus(new Vector(0, wobblePos)),\n    this.basePos,\n    wobble\n  );\n};\n","import { ACTORS, CHARS } from \"../models.mjs\";\nimport { Vector } from \"../Vector.mjs\";\nimport { State } from \"../State.mjs\";\n\nexport class Lava {\n  constructor(pos, speed, reset) {\n    this.pos = pos;\n    this.speed = speed;\n    this.reset = reset;\n  }\n\n  get type() {\n    return ACTORS.LAVA;\n  }\n\n  static create(pos, char) {\n    if (char == CHARS.LAVA_HORIZONTAL) {\n      return new Lava(pos, new Vector(2, 0));\n    } else if (char == CHARS.LAVA_VERTICAL) {\n      return new Lava(pos, new Vector(0, 2));\n    } else if (char == CHARS.LAVA_DRIPPING) {\n      return new Lava(pos, new Vector(0, 3), pos);\n    }\n  }\n}\n\nLava.prototype.size = new Vector(1, 1);\n\nLava.prototype.collide = function(state) {\n  return new State(state.level, state.actors, \"lost\");\n};\n\nLava.prototype.update = function(time, state) {\n  let newPos = this.pos.plus(this.speed.times(time));\n  if (!state.level.touches(newPos, this.size, \"wall\")) {\n    return new Lava(newPos, this.speed, this.reset);\n  } else if (this.reset) {\n    return new Lava(this.reset, this.speed, this.reset);\n  } else {\n    return new Lava(this.pos, this.speed.times(-1));\n  }\n};\n","import { CHARS } from \"./models.mjs\";\nimport { Player } from \"./actors/Player.mjs\";\nimport { Coin } from \"./actors/Coin.mjs\";\nimport { Lava } from \"./actors/Lava.mjs\";\nimport { Vector } from \"./Vector.mjs\";\n\nconst LEVEL_CHARS = {\n  [CHARS.EMPTY]: \"empty\",\n  [CHARS.WALL]: \"wall\",\n  [CHARS.LAVA_STATIC]: \"lava\",\n  [CHARS.PLAYER]: Player,\n  [CHARS.COIN]: Coin,\n  [CHARS.LAVA_HORIZONTAL]: Lava,\n  [CHARS.LAVA_VERTICAL]: Lava,\n  [CHARS.LAVA_DRIPPING]: Lava\n};\n\nfunction createRows(tempRows, startActors) {\n  const getType = char => LEVEL_CHARS[char];\n  const isActor = type => typeof type != \"string\";\n  return tempRows.map((row, yPosition) => {\n    return row.map((char, xPosition) => {\n      const type = getType(char);\n      if (isActor(type)) {\n        startActors.push(type.create(new Vector(xPosition, yPosition), char));\n        return \"empty\";\n      } else {\n        return type;\n      }\n    });\n  });\n}\n\nfunction getTempRows(plan) {\n  return plan\n    .trim()\n    .split(\"\\n\")\n    .map(l => [...l]);\n}\n\nexport class Level {\n  constructor(plan) {\n    let tempRows = getTempRows(plan);\n    this.height = tempRows.length;\n    this.width = tempRows[0].length;\n    this.startActors = [];\n\n    this.rows = createRows(tempRows, this.startActors);\n  }\n}\n\nLevel.prototype.touches = function(pos, size, type) {\n  var xStart = Math.floor(pos.x);\n  var xEnd = Math.ceil(pos.x + size.x);\n  var yStart = Math.floor(pos.y);\n  var yEnd = Math.ceil(pos.y + size.y);\n  for (var y = yStart; y < yEnd; y++) {\n    for (var x = xStart; x < xEnd; x++) {\n      let isOutside = x < 0 || x >= this.width || y < 0 || y >= this.height;\n      let here = isOutside ? \"wall\" : this.rows[y][x];\n      if (here == type) return true;\n    }\n  }\n  return false;\n};\n","const scale = 20;\n\nfunction drawGrid(level) {\n  return element(\n    \"table\",\n    {\n      class: \"background\",\n      style: `width: ${level.width * scale}px`\n    },\n    ...level.rows.map(row =>\n      element(\n        \"tr\",\n        { style: `height: ${scale}px` },\n        ...row.map(type => element(\"td\", { class: type }))\n      )\n    )\n  );\n}\n\nfunction element(name, attributes, ...children) {\n  const newElement = document.createElement(name);\n  Object.keys(attributes).forEach(attribute => {\n    newElement.setAttribute(attribute, attributes[attribute]);\n  });\n  children.forEach(child => newElement.appendChild(child));\n  return newElement;\n}\n\nfunction drawActors(actors) {\n  return element(\n    \"div\",\n    {},\n    ...actors.map(actor => {\n      let rect = element(\"div\", { class: `actor ${actor.type}` });\n      rect.style.width = `${actor.size.x * scale}px`;\n      rect.style.height = `${actor.size.y * scale}px`;\n      rect.style.left = `${actor.pos.x * scale}px`;\n      rect.style.top = `${actor.pos.y * scale}px`;\n      return rect;\n    })\n  );\n}\n\nexport class DOMDisplay {\n  constructor(parent, level) {\n    this.dom = element(\"div\", { class: \"game\" }, drawGrid(level));\n    this.actorLayer = null;\n    parent.appendChild(this.dom);\n  }\n\n  clear() {\n    this.dom.remove();\n  }\n}\n\nDOMDisplay.prototype.syncState = function(state) {\n  if (this.actorLayer) this.actorLayer.remove();\n  this.actorLayer = drawActors(state.actors);\n  this.dom.appendChild(this.actorLayer);\n  this.dom.className = `game ${state.status}`;\n  this.scrollPlayerIntoView(state);\n};\n\nDOMDisplay.prototype.scrollPlayerIntoView = function(state) {\n  let width = this.dom.clientWidth;\n  let height = this.dom.clientHeight;\n  let margin = width / 3;\n  // The viewport\n  let left = this.dom.scrollLeft,\n    right = left + width;\n  let top = this.dom.scrollTop,\n    bottom = top + height;\n  let player = state.player;\n  let center = player.pos.plus(player.size.times(0.5)).times(scale);\n  if (center.x < left + margin) {\n    this.dom.scrollLeft = center.x - margin;\n  } else if (center.x > right - margin) {\n    this.dom.scrollLeft = center.x + margin - width;\n  }\n  if (center.y < top + margin) {\n    this.dom.scrollTop = center.y - margin;\n  } else if (center.y > bottom - margin) {\n    this.dom.scrollTop = center.y + margin - height;\n  }\n};\n","import { Level } from \"./Level.mjs\";\nimport { DOMDisplay } from \"./DOMDisplay.mjs\";\nimport { State } from \"./State.mjs\";\n\nlet GAME_LEVELS = [\n  `\n......................\n..#................#..\n..#..............=.#..\n..#.........o.o....#..\n..#.@......#####...#..\n..#####............#..\n......#++++++++++++#..\n......##############..\n......................`\n].concat([\n  `                                                    \n................................................................................\n................................................................................\n................................................................................\n................................................................................\n................................................................................\n................................................................................\n..................................................................###...........\n...................................................##......##....##+##..........\n....................................o.o......##..................#+++#..........\n.................................................................##+##..........\n...................................#####..........................#v#...........\n............................................................................##..\n..##......................................o.o................................#..\n..#.....................o....................................................#..\n..#......................................#####.............................o.#..\n..#..........####.......o....................................................#..\n..#..@.......#..#................................................#####.......#..\n..############..###############...####################.....#######...#########..\n..............................#...#..................#.....#....................\n..............................#+++#..................#+++++#....................\n..............................#+++#..................#+++++#....................\n..............................#####..................#######....................\n................................................................................\n................................................................................\n`,\n  `                                                                     \n................................................................................\n................................................................................\n....###############################.............................................\n...##.............................##########################################....\n...#.......................................................................##...\n...#....o...................................................................#...\n...#................................................=.......................#...\n...#.o........################...................o..o...........|........o..#...\n...#.........................#..............................................#...\n...#....o....................##########.....###################....##########...\n...#..................................#+++++#.................#....#............\n...###############....oo......=o.o.o..#######.###############.#....#............\n.....#...............o..o.............#.......#......#........#....#............\n.....#....................#############..######.####.#.########....########.....\n.....#.............########..............#...........#.#..................#.....\n.....#..........####......####...#####################.#..................#.....\n.....#........###............###.......................########....########.....\n.....#.......##................#########################......#....#............\n.....#.......#................................................#....#............\n.....###......................................................#....#............\n.......#...............o...........................................#............\n.......#...............................................o...........#............\n.......#########......###.....############.........................##...........\n.............#..................#........#####....#######.o.........########....\n.............#++++++++++++++++++#............#....#.....#..................#....\n.............#++++++++++++++++++#..........###....###...####.o.............#....\n.............####################..........#........#......#.....|.........#....\n...........................................#++++++++#......####............#....\n...........................................#++++++++#.........#........@...#....\n...........................................#++++++++#.........##############....\n...........................................##########...........................\n................................................................................\n`,\n  `\n......................................#++#........................#######....................................#+#..\n......................................#++#.....................####.....####.................................#+#..\n......................................#++##########...........##...........##................................#+#..\n......................................##++++++++++##.........##.............##...............................#+#..\n.......................................##########++#.........#....................................o...o...o..#+#..\n................................................##+#.........#.....o...o....................................##+#..\n.................................................#+#.........#................................###############++#..\n.................................................#v#.........#.....#...#........................++++++++++++++##..\n.............................................................##..|...|...|..##............#####################...\n..............................................................##+++++++++++##............v........................\n...............................................................####+++++####......................................\n...............................................#.....#............#######........###.........###..................\n...............................................#.....#...........................#.#.........#.#..................\n...............................................#.....#.............................#.........#....................\n...............................................#.....#.............................##........#....................\n...............................................##....#.............................#.........#....................\n...............................................#.....#......o..o.....#...#.........#.........#....................\n...............#######........###...###........#.....#...............#...#.........#.........#....................\n..............##.....##.........#...#..........#.....#.....######....#...#...#########.......#....................\n.............##.......##........#.o.#..........#....##...............#...#...#...............#....................\n.....@.......#.........#........#...#..........#.....#...............#...#...#...............#....................\n....###......#.........#........#...#..........#.....#...............#...#####...######......#....................\n....#.#......#.........#.......##.o.##.........#.....#...............#.....o.....#.#.........#....................\n++++#.#++++++#.........#++++++##.....##++++++++##....#++++++++++.....#.....=.....#.#.........#....................\n++++#.#++++++#.........#+++++##.......##########.....#+++++++##+.....#############.##..o.o..##....................\n++++#.#++++++#.........#+++++#....o.................##++++++##.+....................##.....##.....................\n++++#.#++++++#.........#+++++#.....................##++++++##..+.....................#######......................\n++++#.#++++++#.........#+++++##.......##############++++++##...+..................................................\n++++#.#++++++#.........#++++++#########++++++++++++++++++##....+..................................................\n++++#.#++++++#.........#++++++++++++++++++++++++++++++++##.....+..................................................\n`,\n  `\n..............................................................................................................\n..............................................................................................................\n..............................................................................................................\n..............................................................................................................\n..............................................................................................................\n........................................o.....................................................................\n..............................................................................................................\n........................................#.....................................................................\n........................................#.....................................................................\n........................................#.....................................................................\n........................................#.....................................................................\n.......................................###....................................................................\n.......................................#.#.................+++........+++..###................................\n.......................................#.#.................+#+........+#+.....................................\n.....................................###.###................#..........#......................................\n......................................#...#.................#...oooo...#.......###............................\n......................................#...#.................#..........#......#+++#...........................\n......................................#...#.................############.......###............................\n.....................................##...##......#...#......#................................................\n......................................#...#########...########..............#.#...............................\n......................................#...#...........#....................#+++#..............................\n......................................#...#...........#.....................###...............................\n.....................................##...##..........#.......................................................\n......................................#...#=.=.=.=....#............###........................................\n......................................#...#...........#...........#+++#.......................................\n......................................#...#....=.=.=.=#.....o......###.......###..............................\n.....................................##...##..........#.....................#+++#.............................\n..............................o...o...#...#...........#.....#................##v........###...................\n......................................#...#...........#..............#.................#+++#..................\n.............................###.###.###.###.....o.o..#++++++++++++++#...................v#...................\n.............................#.###.#.#.###.#..........#++++++++++++++#........................................\n.............................#.............#...#######################........................................\n.............................##...........##.........................................###......................\n..###.........................#.....#.....#.........................................#+++#................###..\n..#.#.........................#....###....#..........................................###.................#.#..\n..#...........................#....###....#######........................#####.............................#..\n..#...........................#...........#..............................#...#.............................#..\n..#...........................##..........#..............................#.#.#.............................#..\n..#.......................................#.......|####|....|####|.....###.###.............................#..\n..#................###.............o.o....#..............................#.........###.....................#..\n..#...............#####.......##..........#.............................###.......#+++#..........#.........#..\n..#...............o###o.......#....###....#.............................#.#........###..........###........#..\n..#................###........#############..#.oo.#....#.oo.#....#.oo..##.##....................###........#..\n..#......@..........#.........#...........#++#....#++++#....#++++#....##...##....................#.........#..\n..#############################...........#############################.....################################..\n..............................................................................................................\n..............................................................................................................\n`,\n  `\n..................................................................................................###.#.......\n......................................................................................................#.......\n..................................................................................................#####.......\n..................................................................................................#...........\n..................................................................................................#.###.......\n..........................o.......................................................................#.#.#.......\n.............................................................................................o.o.o###.#.......\n...................###................................................................................#.......\n.......+..o..+................................................#####.#####.#####.#####.#####.#####.#####.......\n.......#.....#................................................#...#.#...#.#...#.#...#.#...#.#...#.#...........\n.......#=.o..#............#...................................###.#.###.#.###.#.###.#.###.#.###.#.#####.......\n.......#.....#..................................................#.#...#.#...#.#...#.#...#.#...#.#.....#.......\n.......+..o..+............o..................................####.#####.#####.#####.#####.#####.#######.......\n..............................................................................................................\n..........o..............###..............................##..................................................\n..............................................................................................................\n..............................................................................................................\n......................................................##......................................................\n...................###.........###............................................................................\n..............................................................................................................\n..........................o.....................................................#......#......................\n..........................................................##.....##...........................................\n.............###.........###.........###.................................#..................#.................\n..............................................................................................................\n.................................................................||...........................................\n..###########.................................................................................................\n..#.........#.o.#########.o.#########.o.##................................................#...................\n..#.........#...#.......#...#.......#...#.................||..................#.....#.........................\n..#..@......#####...o...#####...o...#####.....................................................................\n..#######.....................................#####.......##.....##.....###...................................\n........#=..................=................=#...#.....................###...................................\n........#######################################...#+++++++++++++++++++++###+++++++++++++++++++++++++++++++++++\n..................................................############################################################\n..............................................................................................................\n`\n]);\n\nfunction trackKeys(keys) {\n  let down = Object.create(null);\n  function track(event) {\n    if (keys.includes(event.key)) {\n      down[event.key] = event.type == \"keydown\";\n      event.preventDefault();\n    }\n  }\n  window.addEventListener(\"keydown\", track);\n  window.addEventListener(\"keyup\", track);\n  return down;\n}\n\nconst arrowKeys = trackKeys([\"ArrowLeft\", \"ArrowRight\", \"ArrowUp\"]);\n\nfunction runAnimation(frameFunc) {\n  let lastTime = null;\n  function frame(time) {\n    if (lastTime != null) {\n      let timeStep = Math.min(time - lastTime, 100) / 1000;\n      if (frameFunc(timeStep) === false) return;\n    }\n    lastTime = time;\n    requestAnimationFrame(frame);\n  }\n  requestAnimationFrame(frame);\n}\n\nfunction runLevel(level, Display) {\n  let display = new Display(document.body, level);\n  let state = State.start(level);\n  let ending = 1;\n  return new Promise(resolve => {\n    runAnimation(time => {\n      state = state.update(time, arrowKeys);\n      display.syncState(state);\n      if (state.status == \"playing\") {\n        return true;\n      } else if (ending > 0) {\n        ending -= time;\n        return true;\n      } else {\n        display.clear();\n        resolve(state.status);\n        return false;\n      }\n    });\n  });\n}\n\nasync function runGame(plans, Display) {\n  for (let level = 0; level < plans.length; ) {\n    let status = await runLevel(new Level(plans[level]), Display);\n    if (status == \"won\") level++;\n  }\n  console.log(\"You've won!\");\n}\n\nrunGame(GAME_LEVELS, DOMDisplay);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}